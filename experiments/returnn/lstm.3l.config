#!crnn/rnn.py
# kate: syntax python;
# base: chime speed base setup

# data
task = "train"
train = "hdf5/train.0001"
device = "gpu"
multiprocessing = True
update_on_device = True
learning_rate_file = "newbob.data"
cache_size = "0"

# network
num_inputs = 45
num_outputs = 1501
batching = "random"
batch_size = 6750
max_seqs = 27
window = 1
network = {
"lstm0_fw" : { "class" : "rec", "unit": "lstm", "n_out" : 512, "direction" : 1 },
"lstm1_fw" : { "class" : "rec", "unit": "lstm", "n_out" : 512, "direction" : 1, "from" : ["lstm0_fw"] },
"lstm2_fw" : { "class" : "rec", "unit": "lstm", "n_out" : 512, "direction" : 1, "from" : ["lstm1_fw"] },

"output" :   { "class" : "softmax",  "loss" : "ce", "from" : ["lstm2_fw"] }
}

# trainer
truncation = -1
num_epochs = 50
gradient_clip = 10
learning_rate = 0.001
learning_rate_control = "newbob"
model = "model/network"

# log
log = "log/crnn.train.log"
log_verbosity = 5
